<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 
    MEMBER 테이블 관련 SQL 매핑
    namespace 속성은 매핑할 인터페이스의 풀 패키지 경로를 지정합니다. 
-->
<mapper namespace="com.mysite.dasan.member.MemberMapper">

    <insert id="insertMember" parameterType="com.mysite.dasan.member.MemberVO">
        INSERT INTO MEMBER (
        	NO,
            ID, 
            PASSWORD, 
            EMAIL, 
            ROLE, 
            CREATE_DATE
        ) VALUES (
        	MEMBER_NOSEQ.NEXTVAL,
            #{id}, 
            #{password}, 
            #{email}, 
            #{role}, 
            <!-- Oracle의 SYSDATE 함수를 사용하여 서버 시간으로 입력 -->
            SYSDATE 
        )
    </insert>
    
    <select id="selectMemberById" resultType="com.mysite.dasan.member.MemberVO">
        SELECT             
            ID, 
            PASSWORD, 
            EMAIL, 
            ROLE, 
            CREATE_DATE
        FROM 
            MEMBER
        WHERE 
            ID = #{id} <!-- #{id}는 메서드의 파라미터 'id'를 참조합니다 -->
    </select>
    
    <select id="selectMembersByRoleOrg" resultType="com.mysite.dasan.member.MemberVO">
        SELECT             
            ID, 
            PASSWORD, 
            EMAIL, 
            ROLE, 
            CREATE_DATE
        FROM 
            MEMBER
        WHERE 
            ROLE = 'ORG' 
    </select>

</mapper>